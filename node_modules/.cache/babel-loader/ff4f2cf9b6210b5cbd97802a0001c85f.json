{"ast":null,"code":"var _jsxFileName = \"/Users/zixuantian/CM/Team11-CM-FrontEnd/src/Home.tsx\";\nimport React from \"react\"; // import { user } from \"./layout/DrawerRouterContainer\";\n\nimport \"./styles/_home.scss\";\nimport { Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport DrawerRouterContainer from \"./layout/DrawerRouterContainer\";\nimport { useLocation } from \"react-router-dom\";\nconst location = useLocation();\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePermission = () => {\n      // console.log(this.state.username)\n      axios({\n        method: \"get\",\n        // url: \"http://localhost:8080/auth/requestToken\",\n        url: \"https://coachingmate-backend2020.herokuapp.com/auth/requestToken\",\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\",\n          \"Accept\": 'application/json',\n          \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Methods\": \"POST, GET, OPTIONS, DELETE, PUT\"\n        },\n        data: {// username: Qs.stringify(this.state.username),\n        }\n      }).then(res => {\n        // console.log(res.headers)\n        console.log(\"URL\", res);\n        console.log(\"data\", res.data.url);\n        this.setState({\n          redirect: res.data.url\n        });\n      }).catch(error => console.log(\"error\", error));\n    };\n\n    this.state = {\n      location: location,\n      username: location.state.username,\n      redirect: \"\"\n    }; // this.handleChange = this.handleChange.bind(this);\n\n    this.handlePermission = this.handlePermission.bind(this);\n  }\n\n  // handleChange (e) {\n  //     this.setState({username: e.target.value})\n  // }\n  render() {\n    return /*#__PURE__*/React.createElement(DrawerRouterContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"rounded-lg background-pic\",\n      src: \"/3.jpg\",\n      alt: \"bgPic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-md-4 rounded-lg welcome-wrapper\",\n      style: {\n        backgroundColor: \"#C7EDCC\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, \"Welcome to Garmin Dashboard\")), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, \"Today is \", ' ', new Date().getDate(), \"/\", new Date().getMonth() + 1, \"/\", new Date().getFullYear()), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, this.state.username), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Would you like to give permission to Garmin Connect?\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button-home\",\n      variant: \"success\",\n      onClick: this.handlePermission,\n      href: this.state.redirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, \"Sure, connect now!\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"button-home\",\n      variant: \"secondary\",\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    }, \"No, will try later!\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/zixuantian/CM/Team11-CM-FrontEnd/src/Home.tsx"],"names":["React","Button","axios","DrawerRouterContainer","useLocation","location","Home","Component","constructor","props","handlePermission","method","url","headers","data","then","res","console","log","setState","redirect","catch","error","state","username","bind","render","backgroundColor","Date","getDate","getMonth","getFullYear"],"mappings":"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","sourcesContent":["import React, {Component}  from \"react\";\n// import { user } from \"./layout/DrawerRouterContainer\";\nimport \"./styles/_home.scss\";\nimport { Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport Qs from 'qs';\nimport DrawerRouterContainer from \"./layout/DrawerRouterContainer\";\nimport { useLocation } from \"react-router-dom\";\n\nconst location = useLocation();\n\nexport default class Home extends React.Component <{}, {redirect: string, location: object, username: string}>{\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n           location: location,\n           username: location.state.username,\n           redirect:\"\",\n        };\n\n        // this.handleChange = this.handleChange.bind(this);\n        this.handlePermission = this.handlePermission.bind(this);\n    }\n    \n    handlePermission = () => {\n        // console.log(this.state.username)\n        axios({\n            method: \"get\",\n            // url: \"http://localhost:8080/auth/requestToken\",\n            url:\"https://coachingmate-backend2020.herokuapp.com/auth/requestToken\",\n\n            headers: {\n                \"Access-Control-Allow-Origin\": \"*\",\n                \"Accept\": 'application/json',\n                \"Content-Type\": \"application/json\",\n                \"Access-Control-Allow-Methods\": \"POST, GET, OPTIONS, DELETE, PUT\",\n            },\n            data:{\n                // username: Qs.stringify(this.state.username),\n                \n            },\n        }).then((res)=>{\n            // console.log(res.headers)\n            console.log(\"URL\", res)\n            console.log(\"data\",res.data.url)\n            this.setState({redirect: res.data.url })\n        })\n           .catch(error=>\n            console.log(\"error\", error)) \n    }\n\n    // handleChange (e) {\n    //     this.setState({username: e.target.value})\n    // }\n\n\n    render(){\n        return (\n            <DrawerRouterContainer>\n                 <img className=\"rounded-lg background-pic\" src=\"/3.jpg\" alt=\"bgPic\"/>\n                <div\n                    className=\"p-md-4 rounded-lg welcome-wrapper\"\n                    style={{\n                        backgroundColor: \"#C7EDCC\",\n                    }}\n                >\n                    <div className=\"m-4\">\n                    <h2>\n                        <b>Welcome to Garmin Dashboard</b>\n                    </h2>\n                    <h4>Today is {' '}\n                    {new Date().getDate()}/{new Date().getMonth() + 1}/\n                        {new Date().getFullYear()}\n                    </h4>\n                    <br></br>\n\n                <h4>{this.state.username}</h4>\n                    {/* <h4>Please input your unique username!</h4>\n                    <input\n                        className=\"button-home\"\n                        name=\"username\"\n                        type=\"username\"\n                        onChange={this.handleChange}\n                        value={this.state.username}\n                    /><br></br><br></br> */}\n                    \n\n                    <h4 >Would you like to give permission to Garmin Connect?</h4>\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <Button\n                                className=\"button-home\"\n                                variant=\"success\"\n                                onClick={this.handlePermission}\n                                href={this.state.redirect}\n                            >\n                                Sure, connect now!\n                            </Button>\n                        </div>\n                        <div className=\"col\">\n                            <Button \n                                className=\"button-home\"\n                                variant=\"secondary\"\n                                href=\"/\">\n                                No, will try later!\n                            </Button>\n                        </div>\n                    </div>\n\n                    </div>\n                    \n                </div>\n\n            </DrawerRouterContainer>\n        );\n}}\n"]},"metadata":{},"sourceType":"module"}